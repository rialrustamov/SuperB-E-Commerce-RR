INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/', 'run_time': 0.021860122680664062}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/core/homepage/', 'run_time': 0.11079239845275879}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/core/homepage/', 'run_time': 0.08028888702392578}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.02227163314819336}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.04139232635498047}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.02492833137512207}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.14372968673706055}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.007894277572631836}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.013202190399169922}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.06538558006286621}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.011684179306030273}
WARNING:django.request:Unauthorized: /en/api/card/
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.06617021560668945}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.010158538818359375}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.01495981216430664}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.014232635498046875}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.08456063270568848}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.08182382583618164}
WARNING:django.request:Unauthorized: /en/api/card/
WARNING:django.request:Unauthorized: /en/api/card/
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.09152007102966309}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.0065000057220458984}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.004647254943847656}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.014272928237915039}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.18756771087646484}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.014229536056518555}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/user/login/', 'run_time': 0.04438138008117676}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.00511932373046875}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.012137413024902344}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/user/login/', 'run_time': 0.05556178092956543}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.006728410720825195}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.01652979850769043}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/api/token/', 'request_body': b'{"email":"admin@admin.com","password":"admin"}', 'response_body': {'detail': 'No active account found with the given credentials'}, 'run_time': 0.4032716751098633}
WARNING:django.request:Unauthorized: /en/api/token/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.048029422760009766}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.006321907043457031}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.010983943939208984}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.019392013549804688}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.016578197479248047}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/order/shoppingcart/', 'run_time': 0.006623029708862305}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/', 'run_time': 0.061248064041137695}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/login/?next=/en/admin/order/shoppingcart/', 'run_time': 0.06362462043762207}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/login/?next=/en/admin/order/shoppingcart/', 'run_time': 0.34296536445617676}
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/login/?next=/en/admin/order/shoppingcart/', 'run_time': 0.34911322593688965}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/', 'run_time': 0.21171045303344727}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.0415191650390625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/user/login/', 'run_time': 0.046073198318481445}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.007746458053588867}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.07413768768310547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/api/token/', 'request_body': b'{"email":"admin@admin.com","password":"admin"}', 'response_body': {'refresh': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTYzNTkzMDc0MSwiaWF0IjoxNjM1ODQ0MzQxLCJqdGkiOiJjMGFlOGI3NjgzOWM0Mzc4YTk2YjhhMjUwYzAxYjA4NCIsInVzZXJfaWQiOjF9.PAKvqNt6gfR20CncDusRDGMWTkOGWpQKfsAB6w0rrJc', 'access': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjM4NDM2MzQxLCJpYXQiOjE2MzU4NDQzNDEsImp0aSI6Ijc3ODM1YmM3NzkyOTRjOThiOTFmNmU1ZmJjMTBhMmY2IiwidXNlcl9pZCI6MX0.-He8CCyMIjPBSANddbH77z8pB91XktmstcSnlKx_sNo'}, 'run_time': 0.38964414596557617}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/user/login/', 'run_time': 0.38881921768188477}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/user/register/', 'run_time': 0.05300140380859375}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.007132291793823242}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.0229036808013916}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/user/user/', 'run_time': 0.09790515899658203}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.016035795211791992}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/user/user/1/change/', 'run_time': 0.4240894317626953}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.022911548614501953}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/user/user/1/change/', 'run_time': 0.06208062171936035}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/user/user/', 'run_time': 0.07999897003173828}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.013881921768188477}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/user/register/', 'run_time': 0.06664061546325684}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.0049762725830078125}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.0321650505065918}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.05077719688415527}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.004694223403930664}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.012137889862060547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.02456808090209961}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.027874469757080078}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.004632234573364258}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'run_time': 0.05525326728820801}
WARNING:django.request:Unauthorized: /en/api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/product/', 'run_time': 0.09206485748291016}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01624274253845215}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/product/add/', 'run_time': 0.14674019813537598}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.02413010597229004}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.08082890510559082}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.015455245971679688}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.024715662002563477}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/brand/add/?_to_field=id&_popup=1', 'run_time': 0.057839155197143555}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.014917135238647461}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/brand/add/?_to_field=id&_popup=1', 'run_time': 0.04465126991271973}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.05708026885986328}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.017766952514648438}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.04438304901123047}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/product/add/', 'run_time': 0.04136228561401367}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/product/', 'run_time': 0.08710670471191406}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.017997264862060547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/product/add/', 'run_time': 0.12293815612792969}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01707744598388672}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.07530426979064941}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01713252067565918}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.04251599311828613}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/autocomplete/?app_label=product&model_name=product&field_name=product_tag', 'response_body': {'results': [{'id': '1', 'text': 'tag1'}], 'pagination': {'more': False}}, 'run_time': 0.034009456634521484}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.05537152290344238}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.018741369247436523}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.08985590934753418}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.014812707901000977}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.04191994667053223}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/product/add/', 'run_time': 0.03793478012084961}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/product/', 'run_time': 0.09430074691772461}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01549530029296875}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/', 'run_time': 0.08632588386535645}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.0166471004486084}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/add/', 'run_time': 0.09709525108337402}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.017602205276489258}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/productversion/add/', 'run_time': 0.04833531379699707}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/', 'run_time': 0.09915471076965332}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01640772819519043}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/add/', 'run_time': 0.10158538818359375}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.0174713134765625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/productversion/add/', 'run_time': 0.03316998481750488}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/', 'run_time': 0.09512853622436523}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.016762495040893555}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/2/change/', 'run_time': 0.1165764331817627}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.014967918395996094}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/productversion/2/change/', 'run_time': 0.05121755599975586}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/productversion/', 'run_time': 0.10336613655090332}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.014121770858764648}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/', 'run_time': 0.07700395584106445}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.015006542205810547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/add/', 'run_time': 0.18769121170043945}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.017380237579345703}
DEBUG:PIL.Image:Importing BlpImagePlugin
DEBUG:PIL.Image:Importing BmpImagePlugin
DEBUG:PIL.Image:Importing BufrStubImagePlugin
DEBUG:PIL.Image:Importing CurImagePlugin
DEBUG:PIL.Image:Importing DcxImagePlugin
DEBUG:PIL.Image:Importing DdsImagePlugin
DEBUG:PIL.Image:Importing EpsImagePlugin
DEBUG:PIL.Image:Importing FitsStubImagePlugin
DEBUG:PIL.Image:Importing FliImagePlugin
DEBUG:PIL.Image:Importing FpxImagePlugin
DEBUG:PIL.Image:Image: failed to import FpxImagePlugin: No module named 'olefile'
DEBUG:PIL.Image:Importing FtexImagePlugin
DEBUG:PIL.Image:Importing GbrImagePlugin
DEBUG:PIL.Image:Importing GifImagePlugin
DEBUG:PIL.Image:Importing GribStubImagePlugin
DEBUG:PIL.Image:Importing Hdf5StubImagePlugin
DEBUG:PIL.Image:Importing IcnsImagePlugin
DEBUG:PIL.Image:Importing IcoImagePlugin
DEBUG:PIL.Image:Importing ImImagePlugin
DEBUG:PIL.Image:Importing ImtImagePlugin
DEBUG:PIL.Image:Importing IptcImagePlugin
DEBUG:PIL.Image:Importing JpegImagePlugin
DEBUG:PIL.Image:Importing Jpeg2KImagePlugin
DEBUG:PIL.Image:Importing McIdasImagePlugin
DEBUG:PIL.Image:Importing MicImagePlugin
DEBUG:PIL.Image:Image: failed to import MicImagePlugin: No module named 'olefile'
DEBUG:PIL.Image:Importing MpegImagePlugin
DEBUG:PIL.Image:Importing MpoImagePlugin
DEBUG:PIL.Image:Importing MspImagePlugin
DEBUG:PIL.Image:Importing PalmImagePlugin
DEBUG:PIL.Image:Importing PcdImagePlugin
DEBUG:PIL.Image:Importing PcxImagePlugin
DEBUG:PIL.Image:Importing PdfImagePlugin
DEBUG:PIL.Image:Importing PixarImagePlugin
DEBUG:PIL.Image:Importing PngImagePlugin
DEBUG:PIL.Image:Importing PpmImagePlugin
DEBUG:PIL.Image:Importing PsdImagePlugin
DEBUG:PIL.Image:Importing SgiImagePlugin
DEBUG:PIL.Image:Importing SpiderImagePlugin
DEBUG:PIL.Image:Importing SunImagePlugin
DEBUG:PIL.Image:Importing TgaImagePlugin
DEBUG:PIL.Image:Importing TiffImagePlugin
DEBUG:PIL.Image:Importing WebPImagePlugin
DEBUG:PIL.Image:Importing WmfImagePlugin
DEBUG:PIL.Image:Importing XbmImagePlugin
DEBUG:PIL.Image:Importing XpmImagePlugin
DEBUG:PIL.Image:Importing XVThumbImagePlugin
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/image/add/', 'run_time': 0.11870479583740234}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/', 'run_time': 0.08783316612243652}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.0019073486328125}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.022727251052856445}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/add/', 'run_time': 0.11129546165466309}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.015234708786010742}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/en/admin/product/image/add/', 'run_time': 0.03270888328552246}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/', 'run_time': 0.08524012565612793}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.018468141555786133}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.003879547119140625}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide1_gSHCJUi.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.06902098655700684}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.018939733505249023}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide2_NX1zGGw.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.005913496017456055}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.010299444198608398}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.030398845672607422}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.026195049285888672}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.07055854797363281}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.005570650100708008}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.006748199462890625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.016757488250732422}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.01035165786743164}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.026872634887695312}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.03182363510131836}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.035334110260009766}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.009783267974853516}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.034586429595947266}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/undefined', 'run_time': 0.007062196731567383}
WARNING:django.request:Not Found: /en/product/product-list/undefined
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/product/image/', 'run_time': 0.10500979423522949}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.033945560455322266}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.0016207695007324219}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.0035643577575683594}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.007016420364379883}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/', 'run_time': 0.0903170108795166}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.015018463134765625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/1/change/', 'run_time': 0.09811711311340332}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.016673564910888672}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.07546281814575195}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.0027952194213867188}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.0018413066864013672}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.01220393180847168}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.015901803970336914}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.013280153274536133}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.03531956672668457}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.0333399772644043}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"2"}', 'run_time': 0.009917020797729492}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.024353742599487305}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/undefined', 'run_time': 0.0070497989654541016}
WARNING:django.request:Not Found: /en/product/product-list/undefined
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.0661170482635498}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.003698587417602539}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.0013959407806396484}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.009280681610107422}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.017406225204467773}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.019762277603149414}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.0456697940826416}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.03733205795288086}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.010647773742675781}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.03679680824279785}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/undefined', 'run_time': 0.007931709289550781}
WARNING:django.request:Not Found: /en/product/product-list/undefined
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/1/change/', 'run_time': 0.10072588920593262}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/jsi18n/', 'run_time': 0.01548147201538086}
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.011130571365356445}
WARNING:django.request:Not Found: /en/product/product-list/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.01228022575378418}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/product/product-list/', 'run_time': 0.007347583770751953}
WARNING:django.request:Not Found: /en/product/product-list/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.13226532936096191}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide1_gSHCJUi.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
ERROR:django.request:Internal Server Error: /media/images/image/book_slide2_NX1zGGw.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.06473302841186523}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.02218770980834961}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.08248186111450195}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.004456281661987305}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.0010826587677001953}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.02981281280517578}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.01782679557800293}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.04832911491394043}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, 'run_time': 0.12390708923339844}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"2"}', 'response_body': {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}, 'run_time': 0.06999540328979492}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.08170604705810547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.0023539066314697266}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.0033805370330810547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.0529179573059082}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.17184662818908691}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.16671490669250488}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/order/shopping-cart/', 'run_time': 0.0413203239440918}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.07867217063903809}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/order/shopping-cart/', 'run_time': 0.03656649589538574}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.07481122016906738}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide2_NX1zGGw.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
ERROR:django.request:Internal Server Error: /media/images/image/book_slide1_gSHCJUi.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/order/shopping-cart/', 'run_time': 0.02936697006225586}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.017035245895385742}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '60.00', 'discount_price': '45.00', 'category': 1, 'brand': 1, 'description': 'Lorem Product #1', 'total_quantity': 45, 'main_product': {'id': 1, 'created_at': '2021-11-02T13:14:13.310463+04:00', 'updated_at': '2021-11-02T13:14:13.310499+04:00', 'color': 1, 'size': 1, 'quantity': 45, 'version_description': '', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_gSHCJUi.jpg', 'versions': [], 'product_tag': [1]}, {'title': 'Product #2', 'price': '45.00', 'discount_price': '20.00', 'category': 2, 'brand': 1, 'description': 'Lorem Product #2', 'total_quantity': 58, 'main_product': {'id': 2, 'created_at': '2021-11-02T13:14:25.792182+04:00', 'updated_at': '2021-11-02T13:14:30.849812+04:00', 'color': 2, 'size': 2, 'quantity': 58, 'version_description': '', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide2_NX1zGGw.jpg', 'versions': [], 'product_tag': [2]}], 'created_at': '2021-11-02T13:12:18.701726+04:00', 'updated_at': '2021-11-02T13:12:18.701761+04:00', 'user': 1}, 'run_time': 0.09956216812133789}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide2_NX1zGGw.jpg', 'run_time': 0.0013251304626464844}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_gSHCJUi.jpg', 'run_time': 0.006598711013793945}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/order/shopping-cart/', 'run_time': 0.08219599723815918}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.04978632926940918}
WARNING:django.request:Unauthorized: /api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.03705477714538574}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.012757539749145508}
WARNING:django.request:Unauthorized: /api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'detail': 'User not found', 'code': 'user_not_found'}, 'run_time': 0.015535593032836914}
WARNING:django.request:Unauthorized: /api/card/
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin/order/shoppingcart/1/change/', 'run_time': 0.019343852996826172}
WARNING:django.request:Not Found: /en/admin/order/shoppingcart/1/change/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/en/admin', 'run_time': 0.007619619369506836}
WARNING:django.request:Not Found: /en/admin
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/', 'run_time': 0.10596799850463867}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/login/?next=/admin/', 'run_time': 0.039063215255737305}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/login/?next=/admin/', 'run_time': 0.351578950881958}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/', 'run_time': 0.07281732559204102}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.02195906639099121}
WARNING:django.request:Unauthorized: /api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.02099156379699707}
WARNING:django.request:Unauthorized: /api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/user/user/', 'run_time': 0.09565258026123047}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.01894354820251465}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/user/user/1/change/', 'run_time': 0.3952193260192871}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.01759052276611328}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/user/user/1/change/', 'run_time': 0.05799388885498047}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/user/user/', 'run_time': 0.09218096733093262}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.018884658813476562}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/product/', 'run_time': 0.10247516632080078}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.017805099487304688}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/product/add/', 'run_time': 0.1145632266998291}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.01818227767944336}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.08769941329956055}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.020780563354492188}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.0446469783782959}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/category/1/change/?_to_field=id&_popup=1', 'run_time': 0.07849264144897461}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.013804435729980469}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/category/1/change/?_to_field=id&_popup=1', 'run_time': 0.04848837852478027}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.07186341285705566}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.016894817352294922}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/category/add/?_to_field=id&_popup=1', 'run_time': 0.04053759574890137}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/brand/add/?_to_field=id&_popup=1', 'run_time': 0.06352710723876953}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015264749526977539}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/brand/add/?_to_field=id&_popup=1', 'run_time': 0.02688288688659668}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/autocomplete/?app_label=product&model_name=product&field_name=product_tag', 'response_body': {'results': [], 'pagination': {'more': False}}, 'run_time': 0.01570725440979004}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.06954216957092285}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.016637802124023438}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.048432350158691406}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.12268733978271484}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015280485153198242}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/tag/add/?_to_field=id&_popup=1', 'run_time': 0.03748059272766113}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/product/add/', 'run_time': 0.051099538803100586}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/product/', 'run_time': 0.0949709415435791}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.01587843894958496}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/product/add/', 'run_time': 0.12107443809509277}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015884876251220703}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/autocomplete/?app_label=product&model_name=product&field_name=product_tag', 'response_body': {'results': [{'id': '1', 'text': 'tag 1'}, {'id': '2', 'text': 'tag 2'}], 'pagination': {'more': False}}, 'run_time': 0.0167388916015625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/product/add/', 'run_time': 0.09199166297912598}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/product/', 'run_time': 0.1004037857055664}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015171051025390625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/productversion/', 'run_time': 0.08670306205749512}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015534162521362305}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/productversion/add/', 'run_time': 0.13456010818481445}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.014570236206054688}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/productversion/add/', 'run_time': 0.044142961502075195}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/productversion/', 'run_time': 0.11304497718811035}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.013898611068725586}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/productversion/add/', 'run_time': 0.11326432228088379}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.01901841163635254}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/productversion/add/', 'run_time': 0.04753518104553223}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/productversion/', 'run_time': 0.09793806076049805}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015623092651367188}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/', 'run_time': 0.09456992149353027}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.015158891677856445}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/add/', 'run_time': 0.12832427024841309}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.018358469009399414}
DEBUG:PIL.Image:Importing BlpImagePlugin
DEBUG:PIL.Image:Importing BmpImagePlugin
DEBUG:PIL.Image:Importing BufrStubImagePlugin
DEBUG:PIL.Image:Importing CurImagePlugin
DEBUG:PIL.Image:Importing DcxImagePlugin
DEBUG:PIL.Image:Importing DdsImagePlugin
DEBUG:PIL.Image:Importing EpsImagePlugin
DEBUG:PIL.Image:Importing FitsStubImagePlugin
DEBUG:PIL.Image:Importing FliImagePlugin
DEBUG:PIL.Image:Importing FpxImagePlugin
DEBUG:PIL.Image:Image: failed to import FpxImagePlugin: No module named 'olefile'
DEBUG:PIL.Image:Importing FtexImagePlugin
DEBUG:PIL.Image:Importing GbrImagePlugin
DEBUG:PIL.Image:Importing GifImagePlugin
DEBUG:PIL.Image:Importing GribStubImagePlugin
DEBUG:PIL.Image:Importing Hdf5StubImagePlugin
DEBUG:PIL.Image:Importing IcnsImagePlugin
DEBUG:PIL.Image:Importing IcoImagePlugin
DEBUG:PIL.Image:Importing ImImagePlugin
DEBUG:PIL.Image:Importing ImtImagePlugin
DEBUG:PIL.Image:Importing IptcImagePlugin
DEBUG:PIL.Image:Importing JpegImagePlugin
DEBUG:PIL.Image:Importing Jpeg2KImagePlugin
DEBUG:PIL.Image:Importing McIdasImagePlugin
DEBUG:PIL.Image:Importing MicImagePlugin
DEBUG:PIL.Image:Image: failed to import MicImagePlugin: No module named 'olefile'
DEBUG:PIL.Image:Importing MpegImagePlugin
DEBUG:PIL.Image:Importing MpoImagePlugin
DEBUG:PIL.Image:Importing MspImagePlugin
DEBUG:PIL.Image:Importing PalmImagePlugin
DEBUG:PIL.Image:Importing PcdImagePlugin
DEBUG:PIL.Image:Importing PcxImagePlugin
DEBUG:PIL.Image:Importing PdfImagePlugin
DEBUG:PIL.Image:Importing PixarImagePlugin
DEBUG:PIL.Image:Importing PngImagePlugin
DEBUG:PIL.Image:Importing PpmImagePlugin
DEBUG:PIL.Image:Importing PsdImagePlugin
DEBUG:PIL.Image:Importing SgiImagePlugin
DEBUG:PIL.Image:Importing SpiderImagePlugin
DEBUG:PIL.Image:Importing SunImagePlugin
DEBUG:PIL.Image:Importing TgaImagePlugin
DEBUG:PIL.Image:Importing TiffImagePlugin
DEBUG:PIL.Image:Importing WebPImagePlugin
DEBUG:PIL.Image:Importing WmfImagePlugin
DEBUG:PIL.Image:Importing XbmImagePlugin
DEBUG:PIL.Image:Importing XpmImagePlugin
DEBUG:PIL.Image:Importing XVThumbImagePlugin
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/image/add/', 'run_time': 0.1319124698638916}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/', 'run_time': 0.08913040161132812}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.002756357192993164}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.018942832946777344}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/add/', 'run_time': 0.12360119819641113}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.017545461654663086}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/product/image/add/', 'run_time': 0.03841662406921387}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/', 'run_time': 0.08372879028320312}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0013096332550048828}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.02085256576538086}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide1_yJ1MvEs.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.09057497978210449}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.00283050537109375}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.009216070175170898}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.008673667907714844}
WARNING:django.request:Not Found: /favicon.ico
ERROR:SuperB.middleware:Unhandled Exception: "<ShoppingCart: admin@admin.com>" needs to have a value for field "id" before this many-to-many relationship can be used.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 263, in get
    return Response(serializer.data, status=status.HTTP_200_OK)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 536, in __get__
    return self.related_manager_cls(instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 851, in __init__
    raise ValueError('"%r" needs to have a value for field "%s" before '
ValueError: "<ShoppingCart: admin@admin.com>" needs to have a value for field "id" before this many-to-many relationship can be used.
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.12418317794799805}
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.25649070739746094}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.07024312019348145}
ERROR:django.request:Internal Server Error: /media/images/image/book_slide3_M1DMGkj.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
ERROR:django.request:Internal Server Error: /media/images/image/book_slide1_yJ1MvEs.jpg
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 46, in __call__
    if response and response["content-type"] == "application/json":
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/http/response.py", line 178, in __getitem__
    return self.headers[header]
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/datastructures.py", line 316, in __getitem__
    return self._store[key.lower()][1]
KeyError: 'content-type'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.026281356811523438}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.03223276138305664}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.08178925514221191}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.001987457275390625}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0021300315856933594}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.029624462127685547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.03308534622192383}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.010991096496582031}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.05837607383728027}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"2"}', 'response_body': {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}, 'run_time': 0.06848335266113281}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.06268167495727539}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.0750732421875}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.005185842514038086}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0013837814331054688}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.053618431091308594}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.17812752723693848}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.18193316459655762}
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/product/image/', 'run_time': 0.21213459968566895}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.03438425064086914}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0025038719177246094}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.001827239990234375}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.010299444198608398}
WARNING:django.request:Not Found: /favicon.ico
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.1691455841064453}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.016804933547973633}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.001110076904296875}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.050600290298461914}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.37019848823547363}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 1, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T21:12:20.621996+04:00', 'updated_at': '2021-11-02T21:12:20.622140+04:00', 'user': 1}, 'run_time': 0.37203121185302734}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/order/shoppingcart/', 'run_time': 0.218153715133667}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.0258331298828125}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/order/shoppingcart/', 'run_time': 0.10340213775634766}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/admin/order/shoppingcart/', 'run_time': 0.054907798767089844}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/order/shoppingcart/', 'run_time': 0.08695292472839355}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/admin/jsi18n/', 'run_time': 0.012034177780151367}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.08901667594909668}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.008330345153808594}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0023775100708007812}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.014217853546142578}
WARNING:django.request:Not Found: /favicon.ico
ERROR:SuperB.middleware:Unhandled Exception: "<ShoppingCart: admin@admin.com>" needs to have a value for field "id" before this many-to-many relationship can be used.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 263, in get
    return Response(serializer.data, status=status.HTTP_200_OK)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 536, in __get__
    return self.related_manager_cls(instance)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 851, in __init__
    raise ValueError('"%r" needs to have a value for field "%s" before '
ValueError: "<ShoppingCart: admin@admin.com>" needs to have a value for field "id" before this many-to-many relationship can be used.
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.13569879531860352}
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'run_time': 0.23062610626220703}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.05474376678466797}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"2"}', 'response_body': {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}, 'run_time': 0.07575416564941406}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.16649293899536133}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.006687641143798828}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.001065969467163086}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.023266077041625977}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.27549195289611816}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.2743065357208252}
ERROR:SuperB.middleware:Unhandled Exception: 'RelatedManager' object has no attribute 'quantity'
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    print(product.versions.quantity)
AttributeError: 'RelatedManager' object has no attribute 'quantity'
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'AttributeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.12938666343688965}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.17615747451782227}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.018040180206298828}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.21064090728759766}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.08420491218566895}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.05050373077392578}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.08753633499145508}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
ERROR:SuperB.middleware:Unhandled Exception: 'ProductVersion' object has no attribute 'quan'
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    print(product.main_product.quantity)
AttributeError: 'ProductVersion' object has no attribute 'quan'
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'AttributeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.1116483211517334}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.20650291442871094}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.20317935943603516}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.10874271392822266}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.06177520751953125}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.15451955795288086}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.01636815071105957}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.2007617950439453}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.1036379337310791}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.06134510040283203}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/product/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/product/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.15951013565063477}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.2596447467803955}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.1609175205230713}
ERROR:SuperB.middleware:Unhandled Exception: 'RelatedManager' object has no attribute 'quantity'
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    print(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/product/models.py", line 30, in __str__
    return self.versions.quantity
AttributeError: 'RelatedManager' object has no attribute 'quantity'
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'AttributeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.09222030639648438}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/product/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.1355733871459961}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.21631789207458496}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.1260528564453125}
ERROR:SuperB.middleware:Unhandled Exception: 'Product' instance expected, got <ProductVersion: Product #1>
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    request.user.user_cart.product.add(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 950, in add
    self._add_items(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1126, in _add_items
    target_ids = self._get_target_ids(target_field_name, objs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1068, in _get_target_ids
    raise TypeError(
TypeError: 'Product' instance expected, got <ProductVersion: Product #1>
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.09456348419189453}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.1611499786376953}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.0014357566833496094}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.002798318862915039}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.018294095993041992}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.3046727180480957}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.29509997367858887}
ERROR:SuperB.middleware:Unhandled Exception: 'Product' instance expected, got <ProductVersion: Product #1>
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    request.user.user_cart.product.add(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 950, in add
    self._add_items(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1126, in _add_items
    target_ids = self._get_target_ids(target_field_name, objs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1068, in _get_target_ids
    raise TypeError(
TypeError: 'Product' instance expected, got <ProductVersion: Product #1>
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.07970547676086426}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.15182709693908691}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.1891477108001709}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.1321721076965332}
ERROR:SuperB.middleware:Unhandled Exception: 'Product' instance expected, got <ProductVersion: Product #1>
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    request.user.user_cart.product.add(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 950, in add
    self._add_items(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1126, in _add_items
    target_ids = self._get_target_ids(target_field_name, objs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1068, in _get_target_ids
    raise TypeError(
TypeError: 'Product' instance expected, got <ProductVersion: Product #1>
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.07729959487915039}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.15619707107543945}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.22097277641296387}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.14308762550354004}
ERROR:SuperB.middleware:Unhandled Exception: 'Product' instance expected, got <ProductVersion: Product #1>
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    request.user.user_cart.product.add(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 950, in add
    self._add_items(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1126, in _add_items
    target_ids = self._get_target_ids(target_field_name, objs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1068, in _get_target_ids
    raise TypeError(
TypeError: 'Product' instance expected, got <ProductVersion: Product #1>
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.07765650749206543}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.13222837448120117}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.23337793350219727}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.11922168731689453}
ERROR:SuperB.middleware:Unhandled Exception: 'Product' instance expected, got <ProductVersion: Product #1>
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    request.user.user_cart.product.add(product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 950, in add
    self._add_items(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1126, in _add_items
    target_ids = self._get_target_ids(target_field_name, objs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_descriptors.py", line 1068, in _get_target_ids
    raise TypeError(
TypeError: 'Product' instance expected, got <ProductVersion: Product #1>
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.08753752708435059}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': b'----------------------------721847890705757591916792\r\nContent-Disposition: form-data; name="Authorization"\r\n\r\n\r\n----------------------------721847890705757591916792--\r\n', 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.0805809497833252}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'----------------------------856907400081377237163513\r\nContent-Disposition: form-data; name="Authorization"\r\n\r\n\r\n----------------------------856907400081377237163513--\r\n', 'response_body': {'title': '', 'price': None, 'discount_price': None, 'category': None, 'brand': None, 'description': '', 'product_tag': []}, 'run_time': 0.014833927154541016}
WARNING:django.request:Bad Request: /api/card/
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'----------------------------138278959771933531571426\r\nContent-Disposition: form-data; name="Authorization"\r\n\r\n\r\n----------------------------138278959771933531571426--\r\n', 'response_body': {'title': '', 'price': None, 'discount_price': None, 'category': None, 'brand': None, 'description': '', 'product_tag': []}, 'run_time': 0.03102898597717285}
WARNING:django.request:Bad Request: /api/card/
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': b'----------------------------814256250058079311213122\r\nContent-Disposition: form-data; name="Authorization"\r\n\r\n\r\n----------------------------814256250058079311213122--\r\n', 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.07879114151000977}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'----------------------------557590893415914596833186\r\nContent-Disposition: form-data; name="Authorization"\r\n\r\n\r\n----------------------------557590893415914596833186--\r\n', 'response_body': {'title': '', 'price': None, 'discount_price': None, 'category': None, 'brand': None, 'description': '', 'product_tag': []}, 'run_time': 0.018220901489257812}
WARNING:django.request:Bad Request: /api/card/
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.2854275703430176}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.0022821426391601562}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.0016868114471435547}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.012838125228881836}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.31279945373535156}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.3221745491027832}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.07515549659729004}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.17065930366516113}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.0021190643310546875}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.009394645690917969}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.013045072555541992}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.30663585662841797}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.3271310329437256}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.05351829528808594}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.16926050186157227}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.0048716068267822266}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.016986608505249023}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.01818108558654785}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.43216967582702637}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.45228147506713867}
ERROR:SuperB.middleware:Unhandled Exception: Cannot query "Product #1": Must be "ProductVersion" instance.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    cart_item, created = CartItem.objects.get_or_create(cart=basket, product=product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 581, in get_or_create
    return self.get(**kwargs), False
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 424, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 941, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 961, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 968, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1393, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1412, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1320, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1147, in check_related_objects
    self.check_query_object_type(value, opts, field)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1128, in check_query_object_type
    raise ValueError(
ValueError: Cannot query "Product #1": Must be "ProductVersion" instance.
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.09610247611999512}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.14230823516845703}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.2597947120666504}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'run_time': 0.005985736846923828}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/media/images/image/book_slide3_M1DMGkj.jpg', 'run_time': 0.011256217956542969}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/favicon.ico', 'run_time': 0.03255152702331543}
WARNING:django.request:Not Found: /favicon.ico
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.2802274227142334}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.2877955436706543}
ERROR:SuperB.middleware:Unhandled Exception: Cannot query "Product #1": Must be "ProductVersion" instance.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 272, in post
    cart_item, created = CartItem.objects.get_or_create(cart=basket, product=product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 581, in get_or_create
    return self.get(**kwargs), False
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 424, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 941, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 961, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 968, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1393, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1412, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1320, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1147, in check_related_objects
    self.check_query_object_type(value, opts, field)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1128, in check_query_object_type
    raise ValueError(
ValueError: Cannot query "Product #1": Must be "ProductVersion" instance.
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.07142162322998047}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.14434266090393066}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.19722461700439453}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.12305474281311035}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'response_body': {'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, 'run_time': 0.049970388412475586}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.15325403213500977}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.20602798461914062}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.10768580436706543}
ERROR:SuperB.middleware:Unhandled Exception: Field 'id' expected a number but got <ShoppingCart: admin@admin.com>.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/__init__.py", line 1823, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'ShoppingCart'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    cart_item, created = CartItem.objects.get_or_create(cart=cart, product=product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 581, in get_or_create
    return self.get(**kwargs), False
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 424, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 941, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 961, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 968, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1393, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1412, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1347, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1193, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/lookups.py", line 25, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/related_lookups.py", line 117, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/fields/__init__.py", line 1825, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <ShoppingCart: admin@admin.com>.
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'TypeError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.12242865562438965}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.13221502304077148}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.21456289291381836}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.13752412796020508}
ERROR:SuperB.middleware:Unhandled Exception: Cannot query "Product #1": Must be "ProductVersion" instance.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    cart_item, created = CartItem.objects.get(cart=cart, product=product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 424, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 941, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 961, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 968, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1393, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1412, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1320, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1147, in check_related_objects
    self.check_query_object_type(value, opts, field)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1128, in check_query_object_type
    raise ValueError(
ValueError: Cannot query "Product #1": Must be "ProductVersion" instance.
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.07826852798461914}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/product/product-list/', 'run_time': 0.17104673385620117}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.20340561866760254}
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'GET', 'request_path': '/api/card/', 'request_body': {}, 'response_body': {'id': 3, 'product': [{'title': 'Product #1', 'price': '100.00', 'discount_price': '50.00', 'category': 2, 'brand': 1, 'description': '1234567890', 'total_quantity': 100, 'main_product': {'id': 1, 'created_at': '2021-11-02T21:11:51.651191+04:00', 'updated_at': '2021-11-02T21:11:51.651240+04:00', 'color': 1, 'size': 1, 'quantity': 100, 'version_description': '12345678', 'is_main': True, 'product': 1}, 'main_image': '/media/images/image/book_slide1_yJ1MvEs.jpg', 'versions': [], 'product_tag': [1, 2]}, {'title': 'Product #2', 'price': '80.00', 'discount_price': '40.00', 'category': 1, 'brand': 1, 'description': 'dfghjklertyuiocvbn,', 'total_quantity': 50, 'main_product': {'id': 2, 'created_at': '2021-11-02T21:12:02.817531+04:00', 'updated_at': '2021-11-02T21:12:02.817568+04:00', 'color': 1, 'size': 1, 'quantity': 50, 'version_description': '1234tyuiop', 'is_main': True, 'product': 2}, 'main_image': '/media/images/image/book_slide3_M1DMGkj.jpg', 'versions': [], 'product_tag': [1]}], 'created_at': '2021-11-02T23:35:40.806077+04:00', 'updated_at': '2021-11-02T23:35:40.806135+04:00', 'user': 1}, 'run_time': 0.11390519142150879}
ERROR:SuperB.middleware:Unhandled Exception: Cannot query "Product #1": Must be "ProductVersion" instance.
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/SuperB/middleware.py", line 58, in process_exception
    raise exception
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/api/views.py", line 273, in post
    cart_item = CartItem.objects.get_or_create(cart=cart, product=product)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 581, in get_or_create
    return self.get(**kwargs), False
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 424, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 941, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 961, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/query.py", line 968, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1393, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1412, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1320, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1147, in check_related_objects
    self.check_query_object_type(value, opts, field)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1128, in check_query_object_type
    raise ValueError(
ValueError: Cannot query "Product #1": Must be "ProductVersion" instance.
ERROR:django.request:Internal Server Error: /api/card/
Traceback (most recent call last):
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/utils/deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
  File "/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/venv/lib/python3.8/site-packages/django/middleware/clickjacking.py", line 26, in process_response
    if response.get('X-Frame-Options') is not None:
AttributeError: 'ValueError' object has no attribute 'get'
INFO:SuperB.middleware:{'remote_address': '127.0.0.1', 'server_hostname': 'rial', 'request_method': 'POST', 'request_path': '/api/card/', 'request_body': b'{"product_id":"1"}', 'run_time': 0.10393261909484863}
INFO:django.utils.autoreload:/home/rial/Desktop/SuperB_E-commerce/E-commerce-SuperB-Lambda/SuperB/order/models.py changed, reloading.
DEBUG:asyncio:Using selector: EpollSelector
